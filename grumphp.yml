grumphp:
  ascii:
    failed: ~
    succeeded: ~

  parallel:
    enabled: true

  tasks:
    composer:
      strict: true
      metadata:
        label: Composer
        priority: 200

    phpversion:
      project: '8.0'
      metadata:
        label: PHP version
        priority: 200

    jsonlint:
      detect_key_conflicts: true
      metadata:
        label: JSON lint
        priority: 200

    xmllint:
      load_from_net: false
      x_include: true
      dtd_validation: true
      scheme_validation: true
      triggered_by: [xml]
      ignore_patterns: []
      metadata:
        label: XML lint
        priority: 200

    phpcs:
      triggered_by: [php]
      whitelist_patterns: [/^src\/.+/]
      metadata:
        label: PHP Code Sniffer

    phplint:
      jobs: ~
      short_open_tag: false
      ignore_patterns: [/^vendor\/.+/]
      triggered_by: [php]
      metadata:
        label: PHP lint

    phpmd:
      triggered_by: [php]
      whitelist_patterns: [/^src\/.+/]
      metadata:
        label: PHP Mess detector

    phpstan:
      autoload_file: ~
      configuration: ./phpstan.neon
      ignore_patterns: [/^tests\/.+/]
      triggered_by: [php]
      metadata:
        label: PHP Static analysis

    phpunit:
      config_file: ./phpunit.xml
      testsuite: unit
      always_execute: true
      metadata:
        label: PHP unit tests

    phpunit_integration:
      config_file: ./phpunit.xml
      testsuite: integration
      always_execute: true
      metadata:
        task: phpunit
        priority: 100
        label: Examples

    clover_coverage_integration:
      clover_file: coverage.xml
      level: 100
      metadata:
        label: Integration coverage
        priority: 50
        task: clover_coverage

    clover_coverage:
      clover_file: coverage.xml
      level: 100
      metadata:
        label: Code coverage

    phpparser:
      ignore_patterns: [/^vendor\/.+/, /^examples\/app\/.+/]
      triggered_by: [php]
      visitors:
        declare_strict_types: ~
        never_use_else: ~
        no_exit_statements: ~
      metadata:
        priority: 200
        label: PHP parser
